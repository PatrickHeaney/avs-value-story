---
# ==============================================================================
#
# AVS Value Story Specification v1.0
#
# Framework by Patrick Heaney (CC BY-SA 4.0)
#
# Purpose: Modular, Algorithmically Legible unit of work for Agentic workflows.
#
# ==============================================================================

metadata:
  version: "1.0"
  author: "Patrick Heaney"
  repository: "https://github.com/PatrickHeaney/avs-value-story"
  story_id: "VS-001"
  status: "draft"   # draft, active, archived

# THE GOAL: The "Minimum Unique Information" needed to produce the product.
# This defines the "North Star" for the Agent's internal reasoning loop.

goal:
  outcome_statement: "Define exactly what success looks like."
  success_metrics:
    - "Requirement 1: Quantitative or qualitative measure."
    - "Requirement 2: Quantitative or qualitative measure."

# INSTRUCTIONS: Must be "Algorithmically Legible."
# Precise enough for AI execution, clear enough for Human audit.

instructions:
  reasoning_pattern: "Chain-of-Thought"  # Reflection, Planning, or CoT
  execution_steps:
    - step: 1
      action: "Initial data gathering or analysis step."
      validation_rule: "How the agent (or human) verifies this step is correct."
    - step: 2
      action: "Transformation or production step."
      logic_branch: "If [condition], then [action A], else [action B]."
  constraints:
    - "Do not hallucinate facts outside the provided Context."
    - "Output must be formatted for [Business-Review/Release]."

# CONTEXT MANIFEST: The "Bill of Materials" for this Value Story.
# Defines what external files/data must be assembled by the automation layer.
# (Used by assemble_prompt.py to populate the 'context' section below)

context_manifest:
  - key: "unique_key_for_asset"
    description: "Description of what this file contains."
    required: true
    default_path: "./path/to/default/file.md"

# CONTEXT: The antidote to hallucination.
# Engineering 'The Information Hunt' out of the runtime loop.

context:
  mandatory_assets:
    - name: "Asset Name"
      # If using automation, these are populated from context_manifest
      mcp_uri: "mcp://[source]/[path]"  # URI
      alt_link: "https://[external-source-link]"
  implicit_knowledge_overrides:
    - "Note on specific tone, historical precedents, or team-specific
      preferences."

# THE PRODUCT: The deliverable produced by this Value Story.

product:
  type: "Document/Code/Analysis/Decision"
  format: "Markdown/JSON/PDF"
  handoff_target: "Next-Value-Story-ID-or-Release"

# BUSINESS REVIEW: The Human-Agent governance layer.

business_review:
  authority_required: "Human-Agent"
  quality_gate_checklist:
    - "Does the product meet the Outcome Statement?"
    - "Is the logic used in 'Instructions' still optimal?"
